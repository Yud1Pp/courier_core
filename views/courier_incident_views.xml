<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <data>
    <record id="courier_incident_view_tree" model="ir.ui.view">
      <field name="name">courier.incident.tree</field>
      <field name="model">courier.incident</field>
      <field name="arch" type="xml">
        <list
          decoration-warning="state == 'followup'"
          decoration-success="state == 'done'"
        >
          <field name="incident_datetime"/>
          <field name="name"/>
          <field name="customer_id"/>
          <field name="shipment_id"/>
          <field name="incident_type"/>
          <field name="severity"/>
          <field name="state"/>
        </list>
      </field>
    </record>

    <record id="courier_incident_view_form" model="ir.ui.view">
      <field name="name">courier.incident.form</field>
      <field name="model">courier.incident</field>
      <field name="arch" type="xml">
        <form string="Incident">
          <header>
            <field name="state" widget="statusbar" statusbar_visible="draft,followup,done" />
          </header>

          <sheet>
            <div class="oe_title">
              <h1>
                <field name="name" placeholder="Judul Insiden"/>
              </h1>
            </div>

            <group>
              <group>
                <field name="customer_id"/>
                <field name="shipment_id"/>
              </group>
              <group>
                <field name="incident_type"/>
                <field name="severity"/>
                <field name="incident_datetime"/>
              </group>
            </group>

            <notebook>
              <page string="Kronologi">
                <field name="description"/>
              </page>

              <page string="Tindak Lanjut">
                <field name="followup_note"/>
                <field name="resolved_at" readonly="1"/>
              </page>
            </notebook>
          </sheet>
        </form>
      </field>
    </record>

    <record id="action_courier_incident" model="ir.actions.act_window">
      <field name="name">Log Insiden</field>
      <field name="res_model">courier.incident</field>
      <field name="view_mode">list,form</field>
    </record>

    <menuitem
      id="menu_courier_root"
      name="Courier"
      sequence="10"/>

    <menuitem
      id="menu_courier_incident"
      name="Log Insiden"
      parent="menu_courier_root"
      action="action_courier_incident"/>
  </data>
</odoo>
